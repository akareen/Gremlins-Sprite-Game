<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SetupGame.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">gremlins_scaffold</a> &gt; <a href="index.source.html" class="el_package">gremlins</a> &gt; <span class="el_source">SetupGame.java</span></div><h1>SetupGame.java</h1><pre class="source lang-java linenums">package gremlins;

import java.io.File;
import java.util.*;

public interface SetupGame {

    static void loadLevel(App app, int levelNum) {
<span class="nc" id="L9">        setValuesFromMap(app, levelNum);</span>
<span class="nc" id="L10">        readLevel(app);</span>
<span class="nc" id="L11">        createAssetLocations(app);</span>
<span class="nc" id="L12">        loadObjects(app);</span>
<span class="nc" id="L13">    }</span>

    static void setValuesFromMap(App app, int levelNum) {
<span class="nc" id="L16">        app.layoutFile = app.levelsMap.get(levelNum).get(&quot;layout&quot;);</span>
<span class="nc" id="L17">        app.wizardCooldown = Double.parseDouble(app.levelsMap.get(levelNum).get(&quot;wizard_cooldown&quot;));</span>
<span class="nc" id="L18">        app.enemyCooldown = Double.parseDouble(app.levelsMap.get(levelNum).get(&quot;enemy_cooldown&quot;));</span>
<span class="nc" id="L19">    }</span>

    static void readLevel(App app) {
<span class="nc" id="L22">        File fileName = new File(app.layoutFile);</span>
        try {
<span class="nc" id="L24">            try (Scanner scanner = new Scanner(fileName)) {</span>
<span class="nc" id="L25">                String[][] configArray = new String[33][36];</span>
<span class="nc" id="L26">                int y = 0;</span>
<span class="nc bnc" id="L27" title="All 2 branches missed.">                while (scanner.hasNextLine()) {</span>
<span class="nc" id="L28">                    configArray[y] = scanner.nextLine().split(&quot;&quot;);</span>
<span class="nc" id="L29">                    y += 1;</span>
                }
<span class="nc" id="L31">                app.tileLetterConfiguration = configArray;</span>
            }
<span class="nc" id="L33">        } catch (Exception e) {</span>
<span class="nc" id="L34">            System.out.println(&quot;Incorrect config file&quot;);</span>
<span class="nc" id="L35">        }</span>
<span class="nc" id="L36">    }</span>

    static void createAssetLocations(App app) {
<span class="nc" id="L39">        app.assetLocations = makeDefaultAssetLocations();</span>
<span class="nc" id="L40">        String[] ls = {&quot;Wizard&quot;, &quot;Brickwall&quot;, &quot;Stonewall&quot;, &quot;Gremlin&quot;, &quot;Door&quot;, &quot;Powerup&quot;, &quot;Frozenwall&quot;};</span>
<span class="nc" id="L41">        String[] codes = {&quot;W&quot;, &quot;B&quot;, &quot;X&quot;, &quot;G&quot;, &quot;E&quot;, &quot;P&quot;, &quot;F&quot;};</span>
<span class="nc" id="L42">        app.grid = new TileGrid();</span>
<span class="nc bnc" id="L43" title="All 2 branches missed.">        for (int y = 0; y &lt; app.tileLetterConfiguration.length; y++)</span>
<span class="nc bnc" id="L44" title="All 2 branches missed.">            for (int x = 0; x &lt; app.tileLetterConfiguration[y].length; x++) {</span>
<span class="nc bnc" id="L45" title="All 2 branches missed.">                for (int i = 0; i &lt; codes.length; i++)</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">                    if (app.tileLetterConfiguration[y][x].equals(codes[i])) {</span>
<span class="nc bnc" id="L47" title="All 2 branches missed.">                        if (app.tileLetterConfiguration[y][x].equals(&quot;E&quot;))</span>
<span class="nc" id="L48">                            app.exitLocation = new int[] {y, x};</span>
<span class="nc" id="L49">                        app.assetLocations.get(ls[i]).add(new Integer[] {y, x});</span>
<span class="nc" id="L50">                        break;</span>
                    }
            }
<span class="nc" id="L53">    }</span>

    static Map&lt;String, List&lt;Integer[]&gt;&gt; makeDefaultAssetLocations() {
<span class="nc" id="L56">        String[] ls = {&quot;Wizard&quot;, &quot;Brickwall&quot;, &quot;Stonewall&quot;, &quot;Gremlin&quot;, &quot;Door&quot;, &quot;Empty&quot;, &quot;Powerup&quot;, &quot;Frozenwall&quot;};</span>
<span class="nc" id="L57">        Map&lt;String, List&lt;Integer[]&gt;&gt; map = new HashMap&lt;&gt;();</span>
<span class="nc bnc" id="L58" title="All 2 branches missed.">        for (String s : ls)</span>
<span class="nc" id="L59">            map.put(s, new ArrayList&lt;&gt;());</span>
<span class="nc" id="L60">        return map;</span>
    }

    static void loadObjects(App app) {
<span class="nc" id="L64">        app.slimeBalls = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L65">        app.fireBalls = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L66">        Integer[] wizardLocation = app.assetLocations.get(&quot;Wizard&quot;).get(0);</span>
        //Make Wizard
<span class="nc" id="L68">        app.wizard = ObjectMaker.makeWizard(wizardLocation[0] * 20, wizardLocation[1] * 20, app.wizardCooldown);</span>
        //Make Gremlins
<span class="nc" id="L70">        app.gremlins = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">        for (Integer[] gremlinLocation : app.assetLocations.get(&quot;Gremlin&quot;))</span>
<span class="nc" id="L72">            app.gremlins.add(ObjectMaker.makeGremlin(</span>
<span class="nc" id="L73">                    gremlinLocation[0] * 20, gremlinLocation[1] * 20, app.enemyCooldown));</span>
        // Make Brickwalls
<span class="nc bnc" id="L75" title="All 2 branches missed.">        for (Integer[] brickwallLocation : app.assetLocations.get(&quot;Brickwall&quot;))</span>
<span class="nc" id="L76">            app.grid.setTile(brickwallLocation[0], brickwallLocation[1],</span>
<span class="nc" id="L77">                    ObjectMaker.makeBrickwall(brickwallLocation[0] * 20, brickwallLocation[1] * 20));</span>
        // Make Stonewalls
<span class="nc bnc" id="L79" title="All 2 branches missed.">        for (Integer[] stonewallLocation : app.assetLocations.get(&quot;Stonewall&quot;))</span>
<span class="nc" id="L80">            app.grid.setTile(stonewallLocation[0], stonewallLocation[1],</span>
<span class="nc" id="L81">                    ObjectMaker.makeStonewall(stonewallLocation[0] * 20, stonewallLocation[1] * 20));</span>
        // Make Frozenwalls
<span class="nc bnc" id="L83" title="All 2 branches missed.">        for (Integer[] frozenwallLocation : app.assetLocations.get(&quot;Frozenwall&quot;))</span>
<span class="nc" id="L84">            app.grid.setTile(frozenwallLocation[0], frozenwallLocation[1],</span>
<span class="nc" id="L85">                    ObjectMaker.makeFrozenwall(frozenwallLocation[0] * 20, frozenwallLocation[1] * 20));</span>
        // Make Door
<span class="nc" id="L87">        Integer[] doorLocation = app.assetLocations.get(&quot;Door&quot;).get(0);</span>
<span class="nc" id="L88">        app.grid.setTile(doorLocation[0], doorLocation[1],</span>
<span class="nc" id="L89">                ObjectMaker.makeDoor(doorLocation[0] * 20, doorLocation[1] * 20));</span>
        // Make Powerups
<span class="nc" id="L91">        app.powerupTiles = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">        for (Integer[] powerupLocation : app.assetLocations.get(&quot;Powerup&quot;)) {</span>
<span class="nc" id="L93">            PowerUpTile powerupTile = ObjectMaker.makePowerUpTile(powerupLocation[0] * 20, powerupLocation[1] * 20);</span>
<span class="nc" id="L94">            app.grid.setTile(powerupLocation[0], powerupLocation[1], powerupTile);</span>
<span class="nc" id="L95">            app.powerupTiles.add(powerupTile);</span>
<span class="nc" id="L96">        }</span>
<span class="nc" id="L97">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>